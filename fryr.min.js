"use strict";function Fryr(n){return this.init(n)}!function(){var n=function(n,t){var o=window.location.hash,r=new RegExp("("+n+"=.*)("+t+",?)"),a=o.match(r);o=o.replace(a[0],a[1]),o=o.replace(/\,\&/g,"&"),o=o.replace(/\,$/,""),o=o.replace(/\=\,/g,"="),window.location.hash=o},t=function(n,t,o){var a,i=window.location.hash,e=r(n);"&"===e.charAt(0)||""===e?(e=n+"=",a=e+t):(e=n+"="+e,a=o?n+"="+t:e+","+t),i=i.replace(e,a),window.location.hash=i},o=function(n){var t=window.location.hash,o=new RegExp("[?&]"+n+"=","g");t=t.replace(o,""),t=t.replace("#&","#?"),window.location.hash=t},r=function(n){if(!window.location.hash)return"";var t=window.location.hash,o=new RegExp("#.*[?&]"+n+"=([^&]+)(&|$)"),r=t.match(o);return r?r[1]:""},a=function(n,t){return"undefined"==typeof n?t:n};Fryr.prototype={params:{},init:function(n){var t=this,o=function(){var o=t.parse();n.call(this,o)};return window.onhashchange=o,o(),this},update:function(i,e,s,c){var h=window.location.hash;if(s=a(s,!1),c=a(c,!1),-1!==h.indexOf(i)){var w=r(i),u=new RegExp(e,"g");u.test(w)?s?t(i,e,c):(""===e?n(i,w):n(i,e),""===r(i)&&o(i)):t(i,e,c)}else window.location.hash?window.location.hash+="&"+i+"="+e:window.location.hash="?"+i+"="+e;window.history&&window.history.pushState&&window.history.pushState(null,null,window.location.hash)},parse:function(){var n,t=window.location.hash;if(this.params={},window.location.hash&&/\?/g.test(t)){n=t.split("?")[1],n=n.split("&");for(var o=0;o<n.length;o++){var r=n[o].split("="),a=r[0],i=r[1];this.params[a]=i}}return this.params},convert:function(n){if(n.constructor===String&&(n=JSON.parse(n)),n.constructor!==Object)return!1;for(var t=Object.keys(n),o="?",r=0;r<t.length;r++){var a=t[r],i=n[t[r]];i.constructor===Array&&(i=i.join(",")),"?"!==o&&(o+="&"),o+=a+"="+i}return o},merge:function(n,t){t=a(t,!1);var o;if(n.constructor===String&&(n=JSON.parse(n)),t)o=this.convert(n);else{for(var r=this.parse(),i=Object.keys(r),e=0;e<i.length;e++){{var s=i[e];r[s[e]]}n.hasOwnProperty(s)&&(r[s]=n[s])}o=this.convert(r)}return window.location.hash="#"+o,o},param:function(n){return r(n)},paramPresent:function(n){var t=this.params[n];return"undefined"!=typeof t&&""!==t}}}();